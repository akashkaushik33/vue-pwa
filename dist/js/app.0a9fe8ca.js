(function(e){function t(t){for(var n,r,s=t[0],c=t[1],l=t[2],u=0,d=[];u<s.length;u++)r=s[u],o[r]&&d.push(o[r][0]),o[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);f&&f(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,r=1;r<a.length;r++){var c=a[r];0!==o[c]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},o={app:0},i=[];function r(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"2ca2c031"}[e]+".js"}function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(e){var t=[],a=o[e];if(0!==a)if(a)t.push(a[2]);else{var n=new Promise(function(t,n){a=o[e]=[t,n]});t.push(a[2]=n);var i,c=document.getElementsByTagName("head")[0],l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=r(e),i=function(t){l.onerror=l.onload=null,clearTimeout(u);var a=o[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src,r=new Error("Loading chunk "+e+" failed.\n("+n+": "+i+")");r.type=n,r.request=i,a[1](r)}o[e]=void 0}};var u=setTimeout(function(){i({type:"timeout",target:l})},12e4);l.onerror=l.onload=i,c.appendChild(l)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var f=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},2856:function(e,t,a){},3405:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("744f"),a("6c7b"),a("7514"),a("20d6"),a("1c4c"),a("6762"),a("cadf"),a("e804"),a("55dd"),a("d04f"),a("c8ce"),a("217b"),a("7f7f"),a("f400"),a("7f25"),a("536b"),a("d9ab"),a("f9ab"),a("32d7"),a("25c9"),a("9f3c"),a("042e"),a("c7c6"),a("f4ff"),a("049f"),a("7872"),a("a69f"),a("0b21"),a("6c1a"),a("c7c62"),a("84b4"),a("c5f6"),a("2e37"),a("fca0"),a("7cdf"),a("ee1d"),a("b1b1"),a("87f3"),a("9278"),a("5df2"),a("04ff"),a("f751"),a("4504"),a("fee7"),a("ffc1"),a("0d6d"),a("9986"),a("8e6e"),a("25db"),a("e4f7"),a("b9a1"),a("64d5"),a("9aea"),a("db97"),a("66c8"),a("57f0"),a("165b"),a("456d"),a("cf6a"),a("fd24"),a("8615"),a("551c"),a("097d"),a("df1b"),a("2397"),a("88ca"),a("ba16"),a("d185"),a("ebde"),a("2d34"),a("f6b3"),a("2251"),a("c698"),a("a19f"),a("9253"),a("9275"),a("3b2b"),a("3846"),a("4917"),a("a481"),a("28a5"),a("386d"),a("6b54"),a("4f7f"),a("8a81"),a("ac4d"),a("8449"),a("9c86"),a("fa83"),a("48c0"),a("a032"),a("aef6"),a("d263"),a("6c37"),a("9ec8"),a("5695"),a("2fdb"),a("d0b0"),a("b54a"),a("f576"),a("ed50"),a("788d"),a("14b9"),a("f386"),a("f559"),a("1448"),a("673e"),a("242a"),a("c66f"),a("b05c"),a("34ef"),a("6aa2"),a("15ac"),a("af56"),a("b6e4"),a("9c29"),a("63d9"),a("4dda"),a("10ad"),a("c02b"),a("4795"),a("130f"),a("ac6a"),a("96cf");var n=a("2b0e"),o=a("d437"),i=a.n(o),r=a("d421"),s=a.n(r),c=a("535c"),l=a.n(c),u=a("d0ba"),f=a.n(u),d=a("e1f0"),v=a.n(d),p=a("c713"),m=a.n(p),b=a("8f6b"),g=a.n(b),h=a("db3b"),_=a.n(h),k=a("5d92"),y=a.n(k),w=a("6a6f"),x=a.n(w),S=a("d553"),C=a.n(S),D=a("12d0"),I=a.n(D),O=a("25b1"),V=a.n(O),j=a("fa50"),E=a.n(j),T=a("68d6"),A=a.n(T),M=a("2330"),N=a.n(M);a("da64");n["default"].use(i.a,{components:{VApp:s.a,VNavigationDrawer:l.a,VFooter:f.a,VList:v.a,VCard:m.a,VForm:g.a,VTextField:_.a,VBtn:y.a,VIcon:x.a,VGrid:C.a,VToolbar:I.a,VSnackbar:V.a,VImg:E.a,VDivider:A.a,transitions:N.a},iconfont:"md"});var P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{staticClass:"background"},[a("v-content",[a("v-snackbar",{attrs:{timeout:2e3,top:!0},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n      "+e._s(e.errorMessage)+"\n      "),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(t){e.snackbar=!1}}},[e._v("Close")])],1),a("router-view")],1)],1)},$=[],L=a("b0af"),J="https://vue-pwa33.herokuapp.com/#/";console.log("production",J);var F=new L["a"].WebAuth({domain:"vue-passwordless.auth0.com",clientID:"lD9QqKf143sWzfdQSp83_oCedlO0cZfs",redirectUri:"https://vue-pwa33.herokuapp.com/#/",responseType:"token id_token"}),R=function(e,t){F.passwordlessStart({connection:"email",send:"link",email:e},t)},q=function(e,t,a){F.passwordlessLogin({connection:"email",email:e,verificationCode:t},a)},W=function(e){F.parseHash(function(t,a){if(t)return e(t,a);var n=JSON.stringify(1e3*a.expiresIn+(new Date).getTime());localStorage.setItem("access_token",a.accessToken),localStorage.setItem("id_token",a.idToken),localStorage.setItem("expires_at",n),F.client.userInfo(a.accessToken,e)})},B=function(){var e=JSON.parse(localStorage.getItem("expires_at"));return(new Date).getTime()<e},U={name:"App",data:function(){return{snackbar:!1,errorMessage:""}},created:function(){var e=this;if(window.location.hash.includes("access_token")&&W(function(t,a){t?(console.log(t),e.snackbar=!0,localStorage.removeItem("userData"),e.errorMessage="".concat(t.error," and ").concat(t.errorDescription)||"Invalid data",window.location=window.location.origin):(localStorage.setItem("userData",JSON.stringify(a)),e.$router.push({name:"profile",params:{id:a.nickname||"user",data:a}}))}),B()){console.log("authenticated");var t=JSON.parse(localStorage.getItem("userData"));this.$router.push({name:"profile",params:{id:t.nickname}})}else this.$router.push({name:"home"})}},H=U,Q=(a("5c0b"),a("2877")),z=Object(Q["a"])(H,P,$,!1,null,null,null);z.options.__file="App.vue";var G=z.exports,K=a("8c4f"),Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"login-card",attrs:{fluid:""}},[a("v-slide-y-transition",{attrs:{mode:"out-in"}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"",sm8:"","offset-sm2":"",md4:"","offset-md4":""}},[a("v-snackbar",{attrs:{timeout:2e3,top:!0},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n          "+e._s(e.errorMessage)+"\n          "),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(t){e.snackbar=!1}}},[e._v("Close")])],1),e.sent?a("div",[a("v-icon",{staticClass:"ml-icon",attrs:{large:""}},[e._v("thumb_up_alt")]),a("h3",{staticClass:"display-1 font-weight-light"},[e._v("\n            Please check your email.\n          ")]),a("p",[e._v("We have sent a verification code to your email address.")])],1):a("div",[a("h1",{staticClass:"display-1 font-weight-light text-center mr-4",attrs:{color:"cyan lighten-3"}},[e._v("Log in to Vue-PWA")]),a("p",{staticClass:"mr-4"},[e._v("An email will be sent to your email id for verification.")])]),a("v-card",{staticClass:"login-card"},[a("v-card-title",{staticClass:"headline"},[e._v("Sign Up or Login")]),a("v-card-text",[a("v-text-field",{ref:"email",attrs:{label:"Enter your email",rules:e.emailRules},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("v-spacer"),a("v-card-actions",[e.sent?a("v-btn",{attrs:{block:"",color:"primary",loading:e.loading},on:{click:e.verifyEmailCode}},[e._v("Submit")]):a("v-btn",{attrs:{loading:e.loading,block:"",color:"primary"},on:{click:e.sendVerificationLink}},[e._v("Login via Email")])],1)],1)],1)],1)],1)],1)},X=[],Y={name:"home",data:function(){return{email:"",code:"",emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}],errorMessage:"",snackbar:!1,sent:!1,loading:!1}},mounted:function(){if(B()){var e=JSON.parse(localStorage.getItem("userData"));this.$router.push({name:"profile",params:{id:e.nickname}})}},methods:{sendVerificationLink:function(){R(this.email,this.handleResponse),this.loading=!0},handleResponse:function(e,t){if(this.loading=!1,e)return this.snackbar=!0,this.errorMessage=e.description||"Invalid email",localStorage.removeItem("userData");this.sent=!0,this.$router.push("success")},verifyEmailCode:function(){q(this.email,this.code,this.handleResponse),this.loading=!0}}},ee=Y,te=(a("cccb"),Object(Q["a"])(ee,Z,X,!1,null,null,null));te.options.__file="Home.vue";var ae=te.exports,ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"","offset-sm2":"",md4:"","offset-md4":""}},[a("div",{staticClass:"text-xs-center login-card"},[a("v-icon",{staticClass:"ml-icon",attrs:{large:""}},[e._v("thumb_up_alt")]),a("h3",{staticClass:"display-1 font-weight-light"},[e._v("\n          Please check your email.\n        ")]),a("p",[e._v("An verification email has been to your email address.")]),a("p",[e._v("Click "),a("router-link",{attrs:{to:"/"}},[e._v("here")]),e._v(" to go back to login page.")],1)],1)])],1)],1)},oe=[],ie=(a("6cdd"),{}),re=Object(Q["a"])(ie,ne,oe,!1,null,"e2bd5e96",null);re.options.__file="success.vue";var se=re.exports,ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[a("v-snackbar",{attrs:{timeout:2e3,top:!0},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n        "+e._s(e.errorMessage)+"\n        "),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(t){e.snackbar=!1}}},[e._v("Close")])],1),a("v-btn",{staticClass:"mt-5",attrs:{absolute:"",dark:"",top:"",right:"",color:"primary"},on:{click:e.logout}},[e._v("\n        Logout\n      ")]),a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-card",[a("v-img",{attrs:{src:e.userData.picture,height:"300px"}}),a("v-card-title",{staticClass:"headline"},[e._v(e._s(e.userData.nickname))]),a("v-list",{attrs:{"two-line":""}},[a("v-list-tile",[a("v-list-tile-action",[a("v-icon",{attrs:{color:"indigo"}},[e._v("person")])],1),a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(e.userData.sub))]),a("v-list-tile-sub-title",[e._v("Id")])],1)],1),a("v-divider",{attrs:{inset:""}}),a("v-list-tile",[a("v-list-tile-action",[a("v-icon",{attrs:{color:"indigo"}},[e._v("email")])],1),a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(e.userData.email))]),a("v-list-tile-sub-title",[e._v("Email")])],1)],1),a("v-list-tile",[a("v-list-tile-action"),a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(e.userData.nickname))]),a("v-list-tile-sub-title",[e._v("Nickname")])],1)],1),a("v-divider",{attrs:{inset:""}}),a("v-list-tile",[a("v-list-tile-action"),a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(e.userData.updated_at))]),a("v-list-tile-sub-title",[e._v("Updated At")])],1)],1),a("v-list-tile",[a("v-list-tile-action",[a("v-icon",{attrs:{color:"indigo"}},[e._v("done_all")])],1),a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(e.userData.email_verified))]),a("v-list-tile-sub-title",[e._v("Email Verified")])],1)],1)],1)],1)],1)],1)],1)],1)},le=[],ue={name:"profile",data:function(){return{snackbar:!1,errorMessage:"",userData:{}}},mounted:function(){var e=this;this.userData=JSON.parse(localStorage.getItem("userData"))||{},B()||(this.snackbar=!0,this.errorMessage="Authentication failed",setTimeout(function(){e.logout()},2e3))},methods:{logout:function(){localStorage.removeItem("access_token"),localStorage.removeItem("id_token"),localStorage.removeItem("expires_at"),localStorage.removeItem("userData"),this.$router.push({name:"home"})}}},fe=ue,de=(a("ff5d"),Object(Q["a"])(fe,ce,le,!1,null,null,null));de.options.__file="profile.vue";var ve=de.exports;n["default"].use(K["a"]);var pe=new K["a"]({routes:[{path:"/",name:"home",component:ae},{path:"/success",name:"success",component:se},{path:"/profile/:id",name:"profile",component:ve},{path:"/about",name:"about",component:function(){return a.e("about").then(a.bind(null,"f820"))}}]}),me=a("2f62");n["default"].use(me["a"]);var be=new me["a"].Store({state:{},mutations:{},actions:{}}),ge=a("9483");Object(ge["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});a("d5e8"),a("d1e7");n["default"].config.productionTip=!1,new n["default"]({router:pe,store:be,render:function(e){return e(G)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var n=a("2856"),o=a.n(n);o.a},"6cdd":function(e,t,a){"use strict";var n=a("7b3c"),o=a.n(n);o.a},"7b3c":function(e,t,a){},"8f59":function(e,t,a){},cccb:function(e,t,a){"use strict";var n=a("8f59"),o=a.n(n);o.a},ff5d:function(e,t,a){"use strict";var n=a("3405"),o=a.n(n);o.a}});
//# sourceMappingURL=app.0a9fe8ca.js.map